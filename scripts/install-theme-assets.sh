#!/bin/bash
# Install XBM bitmaps for TempleOS-Divine Openbox theme
# This ensures buttons are clickable and visible!

THEME_DIR="$HOME/.local/share/themes/TempleOS-Divine/openbox-3"
mkdir -p "$THEME_DIR"

# Define 10x10 bitmaps

# Close Button (X)
cat > "$THEME_DIR/close.xbm" <<EOF
#define close_width 10
#define close_height 10
static unsigned char close_bits[] = {
   0x00, 0x00, 0xc3, 0x00, 0xe7, 0x00, 0x7e, 0x00, 0x3c, 0x00, 0x3c, 0x00,
   0x7e, 0x00, 0xe7, 0x00, 0xc3, 0x00, 0x00, 0x00 };
EOF

# Maximize Button (Square)
cat > "$THEME_DIR/max.xbm" <<EOF
#define max_width 10
#define max_height 10
static unsigned char max_bits[] = {
   0xff, 0x03, 0xff, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03,
   0x03, 0x03, 0x03, 0x03, 0xff, 0x03, 0xff, 0x03 };
EOF

# Iconify/Minimize Button (Underscore)
cat > "$THEME_DIR/iconify.xbm" <<EOF
#define iconify_width 10
#define iconify_height 10
static unsigned char iconify_bits[] = {
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
   0x00, 0x00, 0xff, 0x03, 0xff, 0x03, 0x00, 0x00 };
EOF

echo "Installed XBM assets to $THEME_DIR"
